<%- include('partials/header') -%>

<main class="vertical-center">
    <div class="container">
        <h2>Modify User <%=user.firstName%> <%=user.lastName%></h2>
        <% if (locals.messages.errors) { %>
            <% messages.errors.forEach( el => { %>
                <div class="alert alert-danger"><%= el.msg %></div>
            <% }) %>    
        <% } %>
        <% if (locals.messages.info) { %>
            <% messages.info.forEach( el => { %>
                <div class="alert alert-info"><%= el.msg %></div>
            <% }) %>    
        <% } %>
        <form method="post" action="<%=user.id%>">
            <input type="hidden" name="_method" value="put">

            <div class="mb-3">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" name="firstName" id="firstName" class="form-control" value="<%=user.firstName%>">
            </div>

            <div class="mb-3">
                <label for="lastName" class="form-label">Last Name</label>
                <input type="text" name="lastName" id="lastName" class="form-control" value="<%=user.lastName%>">
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" name="email" class="form-control" value="<%=user.email%>">
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" name="password" id="password" class="form-control">
            </div>

            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm Password</label>
                <input type="password" name="confirmPassword" id="confirmPassword" class="form-control">
            </div>

            Admin permits:
            <% if (user.admin) {%>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="admin" id="adminYes" value='true' checked>
                <label class="form-check-label" for="adminYes">
                  Yes
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="admin" id="adminNo" value='false'>
                <label class="form-check-label" for="adminNo">
                  No
                </label>
              </div>
            <%}else{%>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="admin" id="adminYes" value='true'>
                <label class="form-check-label" for="adminYes">
                    Yes
                </label>
                </div>
                <div class="form-check">
                <input class="form-check-input" type="radio" name="admin" id="adminNo" value='false' checked>
                <label class="form-check-label" for="adminNo">
                    No
                </label>
                </div>
            <%}%>
            
            <div class="d-grid justify-content-md-end">
                <div>
                    <a href="/settings" class="btn btn-secondary pe-2">back to settings</a>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
            </div>

        </form>
    </div>
</main>



<%- include('partials/footer') -%>